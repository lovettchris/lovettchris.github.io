<!DOCTYPE html>
<html lang="en">
<head>
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://lovettchris.github.io/posts/dgmlimage/">
    <link rel="shortcut icon" href="img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>DgmlImage - Lovett Software</title>
    <link href="/css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="/css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="/css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/highlight.css">
    <link href="../../css/main.css" rel="stylesheet">
    <link href="../../css/syntax.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="/js/jquery-3.2.1.min.js"></script>
    <script src="/js/bootstrap-3.3.7.min.js"></script>
    <script src="/js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var is_top_frame = false;
        
        var pageToc = [
          {title: "DgmlImage", url: "#_top", children: [
              {title: "Install", url: "#install" },
              {title: "An example", url: "#an-example" },
          ]},
        ];

    </script>
    <script src="/js/base.js"></script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-UA-89203408-1', 'lovettsoftware.com');
        ga('send', 'pageview');
    </script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>

<div id="cookie-banner"></div>


<div class="wrapper wm-page-content">
  <div class="container-fluid">
    <a name="_top"></a>
      

      <h1 id="dgmlimage">DgmlImage</h1>
<p>I&rsquo;m happy to announce the availability of a new command line tool for generating images from DGML
graphs, called <a href="https://www.nuget.org/packages/DgmlImage/">DgmlImage</a>.</p>
<p>While <a href="https://visualstudio.microsoft.com/downloads/">Visual Studio</a> provides excellent support for
viewing and editing DGML graphs, it is sometimes necessary to provide DGML graphs over the Web in
HTML pages as static images so that the value of DGML visualizations can be shared with the entire
world.</p>
<p>An excellent example of this is the <a href="https://marketplace.visualstudio.com/items?itemName=Dealogic.reference-conflicts-analyzer-azure-devops-task">Reference Conflicts
Analyzer</a>
by JÃ³zsef Kanczler.</p>
<p>In this example, you have a build server that runs code analysis tools, those tools provide insights
as DGML diagrams, and so then it is natural to want to visualize those results on a website for
anyone to see &ndash; even folks who don&rsquo;t have Visual Studio handy.</p>
<p><code>DgmlImage</code> is a standalone command line tool that can run on any Windows machine (including those
without Visual Studio).  The only pre-requisite is .NET Frameworks version 4.6.1.</p>
<h2 id="install">Install</h2>
<p>To install this tool use &ldquo;nuget install DgmlImage&rdquo; like this:</p>
<pre><code>d:\Temp&gt;nuget install DgmlImage
Feeds used:
  https://api.nuget.org/v3/index.json
  C:\Program Files (x86)\Microsoft SDKs\NuGetPackages\

Installing package 'DgmlImage' to 'd:\Temp'.
  CACHE https://api.nuget.org/v3/registration5-gz-semver2/dgmlimage/index.json


Attempting to gather dependency information for package 'DgmlImage.1.2.0.1' with respect to project 'd:\Temp', targeting 'Any,Version=v0.0'
Gathering dependency information took 26.21 ms
Attempting to resolve dependencies for package 'DgmlImage.1.2.0.1' with DependencyBehavior 'Lowest'
Resolving dependency information took 0 ms
Resolving actions to install package 'DgmlImage.1.2.0.1'
Resolved actions to install package 'DgmlImage.1.2.0.1'
Retrieving package 'DgmlImage 1.2.0.1' from 'nuget.org'.
Adding package 'DgmlImage.1.2.0.1' to folder 'd:\Temp'
Added package 'DgmlImage.1.2.0.1' to folder 'd:\Temp'
Successfully installed 'DgmlImage 1.2.0.1' to d:\Temp
Executing nuget actions took 256.55 ms
</code></pre>
<p>Notice this has created a folder named <code>DgmlImage.1.2.0.1</code> in your current directory and in that
folder you will find the tool in the <code>tools</code> folder.  To make it easy to run this command the
command line you can edit your PATH environment accordingly:</p>
<pre><code>set PATH=%PATH%;d:\Temp\DgmlImage.1.2.0.1\tools
</code></pre>
<h2 id="an-example">An example</h2>
<p>command line might look like this:</p>
<pre><code>DgmlImage test.dgml
</code></pre>
<p>This will produce a file in the same directory as the DGML document called &ldquo;test.png&rdquo;.  You can
provide other file formats by providing the -format option.  One interesting image format for Web
pages is the SVG format:</p>
<pre><code>DgmlImage -format svg test.dgml
</code></pre>
<p>Now you should see a test.svg file.  With SVG there is a fun trick you can do to make the diagram
automatically scale to fit the web browser window.  Open the .svg file in notepad and look for the
<code>width</code> and <code>height</code> properties.  You will find something like this:</p>
<pre><code class="language-xml">&lt;svg width=&quot;2031.10719130029&quot; height=&quot;1662.5614805394789&quot;
</code></pre>
<p>Then modify this using a <code>viewbox</code> as follows:</p>
<pre><code class="language-xml">&lt;svg viewbox=&quot;0,0,2031,1662&quot; width=&quot;100%&quot;
</code></pre>
<p>Now the diagram nicely stretches and shrinks as you resize the browser window.  You will need to
copy the <code>&lt;svg&gt;</code> element into an .html page to see this nice resizing behavior.  When you do that,
drop the XML declaration:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
</code></pre>
<h3 id="usage">Usage:</h3>
<p>Type &ldquo;DgmlImage -?&rdquo; to see this help page:</p>
<pre><code>Usage: DgmlImage /format:png /zoom:level files...
Converts given DGML documents to given image format
Options:
    /format:name, supported formats are 'png', 'bmp', 'gif', 'tiff', 'jpg', 'xps', 'svg' (default png)
    /f:name, short hand for /format:name
    /zoom:level, default zoom is 1.
    /z:level, short hand for /zoom:level
    /width:n, width of the image (defaults to 100% of graph size)
    /legend, show the legend (default hidden)
    /out:directory, the directory in which to write the image files
</code></pre>

    <br>
      

    
    
      
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../wireless_remote/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../wireless_remote/" class="btn btn-xs btn-link">
        Arduino controlled Remote Light Switch
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../keyword_spotting/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../keyword_spotting/" class="btn btn-xs btn-link">
        Keyword Spotting
      </a>
    </div>
    
  </div>

      <br>
  </div>
</div>

<footer class="wm-page-content">

  <section class="footer-join pt-40 pb-80">
  <div class="container-fluid">
    <div class="row text-center">
      <div class="col-sm-8 col-sm-offset-2">
      </div>
    </div>
    <div class="row">
      Lovett Software
   </div>
  </div>
</section>
</footer>


<script type="text/javascript">
    $(document).ready(function () {
      $('table').each(function () {
        $(this).addClass("table");
        $(this).addClass("table-bordered");
        $(this).addClass("table-striped");
        $(this).addClass("table-condensed");
      });

    });
</script>

</body>
</html>